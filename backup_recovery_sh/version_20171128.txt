# backup_recovery_sh_07版本开始添加version文件，记录脚本更新内容

20171108 backup_recovery_sh_07

1、此版本为测试hgdb4.2.1而更新，hgdb4.2.1数据库对fde加密进行了功能细化，增加了分级加密，可选选项有r,x,s,t,a，共有31种组合形式，均需要测试一遍；
2、修改了main函数和数据库初始化等处，使原先的手动交互测试转换为全自动测试(原先只有不加密和7种加密算法，手动交互式测试可以方便的查找问题所在，更新后，31种分级加密组合，乘以7种加密算法，加上不加密的测试，
   以及每个情况都要有6种备份恢复测试，共需测试1308遍，遂改为自动测试)；
3、为了保证测试完整性，凡是测试过程中出现了错误，立即退出整个测试，避免影响后续测试造成混乱。

-----------------------------------------------分割线-----------------------------------------------

20171114 backup_recovery_sh_08

1、在进行双机热备的同步和异步测试时，从主库copy data目录到备库后，原版本未删除data下的pid文件，导致备库可能启动失败，此版本添加此脚本语句；
2、自动测试脚本执行时，每个测试项目之间没有分割，所以在每个测试项目前面加一个echo，输出一个空行，便于查看

-----------------------------------------------分割线-----------------------------------------------

20171115 backup_recovery_sh_09

1、修改了需要在备库执行的脚本，原思想是遇到不合格检查执行read然后检查，修改后卫遇到不合格检查就sleep 2s，然后continue

-----------------------------------------------分割线-----------------------------------------------

20171128 backup_recovery_sh_10

1、修改了各项测试下select结果对比后的处理，如果结果不一致，exit1
2、修改了双机测试下select结果对比后的处理，如果结果不一致，循环执行select，考虑到机器延迟卡顿的问题
3、修改了双机测试下进程查询和是否同异步的result对比，如果结果不一致，循环执行select

-----------------------------------------------分割线-----------------------------------------------
