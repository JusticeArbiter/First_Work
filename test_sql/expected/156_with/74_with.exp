WITH RECURSIVE x(n) AS (SELECT a FROM y WHERE a = 1  UNION ALL  SELECT x.n+1 FROM y LEFT JOIN x ON x.n = y.a WHERE n < 10)  SELECT * FROM x;
ERROR:  42P19: recursive reference to query "x" must not appear within an outer join
LINE 1: ...E a = 1  UNION ALL  SELECT x.n+1 FROM y LEFT JOIN x ON x.n =...
                                                             ^
