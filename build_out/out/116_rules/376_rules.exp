SELECT tablename, rulename, definition FROM pg_rules  ORDER BY tablename, rulename;
   tablename   |    rulename     |                                                                                     definition                                                                                     
---------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 pg_settings   | pg_settings_n   | CREATE RULE pg_settings_n AS                                                                                                                                                      +
               |                 |     ON UPDATE TO pg_settings DO INSTEAD NOTHING;
 pg_settings   | pg_settings_u   | CREATE RULE pg_settings_u AS                                                                                                                                                      +
               |                 |     ON UPDATE TO pg_settings                                                                                                                                                      +
               |                 |    WHERE (new.name = old.name) DO  SELECT set_config(old.name, new.setting, false) AS set_config;
 rtest_emp     | rtest_emp_del   | CREATE RULE rtest_emp_del AS                                                                                                                                                      +
               |                 |     ON DELETE TO rtest_emp DO  INSERT INTO rtest_emplog (ename, who, action, newsal, oldsal)                                                                                      +
               |                 |   VALUES (old.ename, "current_user"(), 'fired'::bpchar, '$0.00'::money, old.salary);
 rtest_emp     | rtest_emp_ins   | CREATE RULE rtest_emp_ins AS                                                                                                                                                      +
               |                 |     ON INSERT TO rtest_emp DO  INSERT INTO rtest_emplog (ename, who, action, newsal, oldsal)                                                                                      +
               |                 |   VALUES (new.ename, "current_user"(), 'hired'::bpchar, new.salary, '$0.00'::money);
 rtest_emp     | rtest_emp_upd   | CREATE RULE rtest_emp_upd AS                                                                                                                                                      +
               |                 |     ON UPDATE TO rtest_emp                                                                                                                                                        +
               |                 |    WHERE (new.salary <> old.salary) DO  INSERT INTO rtest_emplog (ename, who, action, newsal, oldsal)                                                                             +
               |                 |   VALUES (new.ename, "current_user"(), 'honored'::bpchar, new.salary, old.salary);
 rtest_nothn1  | rtest_nothn_r1  | CREATE RULE rtest_nothn_r1 AS                                                                                                                                                     +
               |                 |     ON INSERT TO rtest_nothn1                                                                                                                                                     +
               |                 |    WHERE ((new.a >= 10) AND (new.a < 20)) DO INSTEAD NOTHING;
 rtest_nothn1  | rtest_nothn_r2  | CREATE RULE rtest_nothn_r2 AS                                                                                                                                                     +
               |                 |     ON INSERT TO rtest_nothn1                                                                                                                                                     +
               |                 |    WHERE ((new.a >= 30) AND (new.a < 40)) DO INSTEAD NOTHING;
 rtest_nothn2  | rtest_nothn_r3  | CREATE RULE rtest_nothn_r3 AS                                                                                                                                                     +
               |                 |     ON INSERT TO rtest_nothn2                                                                                                                                                     +
               |                 |    WHERE (new.a >= 100) DO INSTEAD  INSERT INTO rtest_nothn3 (a, b)                                                                                                               +
               |                 |   VALUES (new.a, new.b);
 rtest_nothn2  | rtest_nothn_r4  | CREATE RULE rtest_nothn_r4 AS                                                                                                                                                     +
               |                 |     ON INSERT TO rtest_nothn2 DO INSTEAD NOTHING;
 rtest_order1  | rtest_order_r1  | CREATE RULE rtest_order_r1 AS                                                                                                                                                     +
               |                 |     ON INSERT TO rtest_order1 DO INSTEAD  INSERT INTO rtest_order2 (a, b, c)                                                                                                      +
               |                 |   VALUES (new.a, nextval('rtest_seq'::regclass), 'rule 1 - this should run 1st'::text);
 rtest_order1  | rtest_order_r2  | CREATE RULE rtest_order_r2 AS                                                                                                                                                     +
               |                 |     ON INSERT TO rtest_order1 DO  INSERT INTO rtest_order2 (a, b, c)                                                                                                              +
               |                 |   VALUES (new.a, nextval('rtest_seq'::regclass), 'rule 2 - this should run 2nd'::text);
 rtest_order1  | rtest_order_r3  | CREATE RULE rtest_order_r3 AS                                                                                                                                                     +
               |                 |     ON INSERT TO rtest_order1 DO INSTEAD  INSERT INTO rtest_order2 (a, b, c)                                                                                                      +
               |                 |   VALUES (new.a, nextval('rtest_seq'::regclass), 'rule 3 - this should run 3rd'::text);
 rtest_order1  | rtest_order_r4  | CREATE RULE rtest_order_r4 AS                                                                                                                                                     +
               |                 |     ON INSERT TO rtest_order1                                                                                                                                                     +
               |                 |    WHERE (new.a < 100) DO INSTEAD  INSERT INTO rtest_order2 (a, b, c)                                                                                                             +
               |                 |   VALUES (new.a, nextval('rtest_seq'::regclass), 'rule 4 - this should run 4th'::text);
 rtest_person  | rtest_pers_del  | CREATE RULE rtest_pers_del AS                                                                                                                                                     +
               |                 |     ON DELETE TO rtest_person DO  DELETE FROM rtest_admin                                                                                                                         +
               |                 |   WHERE (rtest_admin.pname = old.pname);
 rtest_person  | rtest_pers_upd  | CREATE RULE rtest_pers_upd AS                                                                                                                                                     +
               |                 |     ON UPDATE TO rtest_person DO  UPDATE rtest_admin SET pname = new.pname                                                                                                        +
               |                 |   WHERE (rtest_admin.pname = old.pname);
 rtest_system  | rtest_sys_del   | CREATE RULE rtest_sys_del AS                                                                                                                                                      +
               |                 |     ON DELETE TO rtest_system DO ( DELETE FROM rtest_interface                                                                                                                    +
               |                 |   WHERE (rtest_interface.sysname = old.sysname);                                                                                                                                  +
               |                 |  DELETE FROM rtest_admin                                                                                                                                                          +
               |                 |   WHERE (rtest_admin.sysname = old.sysname);                                                                                                                                      +
               |                 | );
 rtest_system  | rtest_sys_upd   | CREATE RULE rtest_sys_upd AS                                                                                                                                                      +
               |                 |     ON UPDATE TO rtest_system DO ( UPDATE rtest_interface SET sysname = new.sysname                                                                                               +
               |                 |   WHERE (rtest_interface.sysname = old.sysname);                                                                                                                                  +
               |                 |  UPDATE rtest_admin SET sysname = new.sysname                                                                                                                                     +
               |                 |   WHERE (rtest_admin.sysname = old.sysname);                                                                                                                                      +
               |                 | );
 rtest_t4      | rtest_t4_ins1   | CREATE RULE rtest_t4_ins1 AS                                                                                                                                                      +
               |                 |     ON INSERT TO rtest_t4                                                                                                                                                         +
               |                 |    WHERE ((new.a >= 10) AND (new.a < 20)) DO INSTEAD  INSERT INTO rtest_t5 (a, b)                                                                                                 +
               |                 |   VALUES (new.a, new.b);
 rtest_t4      | rtest_t4_ins2   | CREATE RULE rtest_t4_ins2 AS                                                                                                                                                      +
               |                 |     ON INSERT TO rtest_t4                                                                                                                                                         +
               |                 |    WHERE ((new.a >= 20) AND (new.a < 30)) DO  INSERT INTO rtest_t6 (a, b)                                                                                                         +
               |                 |   VALUES (new.a, new.b);
 rtest_t5      | rtest_t5_ins    | CREATE RULE rtest_t5_ins AS                                                                                                                                                       +
               |                 |     ON INSERT TO rtest_t5                                                                                                                                                         +
               |                 |    WHERE (new.a > 15) DO  INSERT INTO rtest_t7 (a, b)                                                                                                                             +
               |                 |   VALUES (new.a, new.b);
 rtest_t6      | rtest_t6_ins    | CREATE RULE rtest_t6_ins AS                                                                                                                                                       +
               |                 |     ON INSERT TO rtest_t6                                                                                                                                                         +
               |                 |    WHERE (new.a > 25) DO INSTEAD  INSERT INTO rtest_t8 (a, b)                                                                                                                     +
               |                 |   VALUES (new.a, new.b);
 rtest_v1      | rtest_v1_del    | CREATE RULE rtest_v1_del AS                                                                                                                                                       +
               |                 |     ON DELETE TO rtest_v1 DO INSTEAD  DELETE FROM rtest_t1                                                                                                                        +
               |                 |   WHERE (rtest_t1.a = old.a);
 rtest_v1      | rtest_v1_ins    | CREATE RULE rtest_v1_ins AS                                                                                                                                                       +
               |                 |     ON INSERT TO rtest_v1 DO INSTEAD  INSERT INTO rtest_t1 (a, b)                                                                                                                 +
               |                 |   VALUES (new.a, new.b);
 rtest_v1      | rtest_v1_upd    | CREATE RULE rtest_v1_upd AS                                                                                                                                                       +
               |                 |     ON UPDATE TO rtest_v1 DO INSTEAD  UPDATE rtest_t1 SET a = new.a, b = new.b                                                                                                    +
               |                 |   WHERE (rtest_t1.a = old.a);
 shoelace      | shoelace_del    | CREATE RULE shoelace_del AS                                                                                                                                                       +
               |                 |     ON DELETE TO shoelace DO INSTEAD  DELETE FROM shoelace_data                                                                                                                   +
               |                 |   WHERE (shoelace_data.sl_name = old.sl_name);
 shoelace      | shoelace_ins    | CREATE RULE shoelace_ins AS                                                                                                                                                       +
               |                 |     ON INSERT TO shoelace DO INSTEAD  INSERT INTO shoelace_data (sl_name, sl_avail, sl_color, sl_len, sl_unit)                                                                    +
               |                 |   VALUES (new.sl_name, new.sl_avail, new.sl_color, new.sl_len, new.sl_unit);
 shoelace      | shoelace_upd    | CREATE RULE shoelace_upd AS                                                                                                                                                       +
               |                 |     ON UPDATE TO shoelace DO INSTEAD  UPDATE shoelace_data SET sl_name = new.sl_name, sl_avail = new.sl_avail, sl_color = new.sl_color, sl_len = new.sl_len, sl_unit = new.sl_unit+
               |                 |   WHERE (shoelace_data.sl_name = old.sl_name);
 shoelace_data | log_shoelace    | CREATE RULE log_shoelace AS                                                                                                                                                       +
               |                 |     ON UPDATE TO shoelace_data                                                                                                                                                    +
               |                 |    WHERE (new.sl_avail <> old.sl_avail) DO  INSERT INTO shoelace_log (sl_name, sl_avail, log_who, log_when)                                                                       +
               |                 |   VALUES (new.sl_name, new.sl_avail, 'Al Bundy'::name, '1970-01-01 00:00:00'::timestamp without time zone);
 shoelace_ok   | shoelace_ok_ins | CREATE RULE shoelace_ok_ins AS                                                                                                                                                    +
               |                 |     ON INSERT TO shoelace_ok DO INSTEAD  UPDATE shoelace SET sl_avail = (shoelace.sl_avail + new.ok_quant)                                                                        +
               |                 |   WHERE (shoelace.sl_name = new.ok_name);
(29 rows)

