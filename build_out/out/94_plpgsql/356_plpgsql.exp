create function trap_foreign_key(int) returns int as $$  begin  begin -- start a subtransaction  insert into slave values($1);  exception  when foreign_key_violation then  raise notice 'caught foreign_key_violation';  return 0;  end;  return 1;  end$$ language plpgsql;
NOTICE:  00000: test_event_trigger: ddl_command_start CREATE FUNCTION
ERROR:  42601: syntax error at end of input
LINE 1: ...n_key_violation';  return 0;  end;  return 1;  end$$ languag...
                                                             ^
