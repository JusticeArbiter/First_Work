LOG:  00000: statement: CREATE RULE hat_upsert AS ON INSERT TO hats  DO INSTEAD  INSERT INTO hat_data VALUES (  NEW.hat_name,  NEW.hat_color)  ON CONFLICT (hat_name)  DO UPDATE  SET hat_name = hat_data.hat_name, hat_color = excluded.hat_color  WHERE excluded.hat_color <> 'forbidden' AND hat_data.* != excluded.*  RETURNING *;
LOCATION:  exec_simple_query, postgres.c:938
NOTICE:  00000: test_event_trigger: ddl_command_start CREATE RULE
LOCATION:  exec_stmt_raise, pl_exec.c:3216
STATEMENT:  CREATE RULE hat_upsert AS ON INSERT TO hats  DO INSTEAD  INSERT INTO hat_data VALUES (  NEW.hat_name,  NEW.hat_color)  ON CONFLICT (hat_name)  DO UPDATE  SET hat_name = hat_data.hat_name, hat_color = excluded.hat_color  WHERE excluded.hat_color <> 'forbidden' AND hat_data.* != excluded.*  RETURNING *;
