LOG:  00000: statement: create function inner_func(int)  returns int as $$  declare  _context text;  sx int := 5;  begin  begin  perform sx / 0;  exception  when division_by_zero then  get diagnostics _context = pg_context;  raise notice '***%***', _context;  end;   -- lets do it again, just for fun..  get diagnostics _context = pg_context;  raise notice '***%***', _context;  raise notice 'lets make sure we didnt break anything';  return 2 * $1;  end;  $$ language plpgsql;
LOCATION:  exec_simple_query, postgres.c:938
NOTICE:  00000: test_event_trigger: ddl_command_start CREATE FUNCTION
LOCATION:  exec_stmt_raise, pl_exec.c:3216
STATEMENT:  create function inner_func(int)  returns int as $$  declare  _context text;  sx int := 5;  begin  begin  perform sx / 0;  exception  when division_by_zero then  get diagnostics _context = pg_context;  raise notice '***%***', _context;  end;   -- lets do it again, just for fun..  get diagnostics _context = pg_context;  raise notice '***%***', _context;  raise notice 'lets make sure we didnt break anything';  return 2 * $1;  end;  $$ language plpgsql;
ERROR:  42601: syntax error at end of input at character 434
LOCATION:  plpgsql_yyerror, pl_scanner.c:623
STATEMENT:  create function inner_func(int)  returns int as $$  declare  _context text;  sx int := 5;  begin  begin  perform sx / 0;  exception  when division_by_zero then  get diagnostics _context = pg_context;  raise notice '***%***', _context;  end;   -- lets do it again, just for fun..  get diagnostics _context = pg_context;  raise notice '***%***', _context;  raise notice 'lets make sure we didnt break anything';  return 2 * $1;  end;  $$ language plpgsql;
