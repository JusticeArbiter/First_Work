LOG:  00000: statement: CREATE FUNCTION nonsimple_expr_test() RETURNS text[] AS $$  DECLARE  arr text[];  lr text;  i integer;  BEGIN  arr := array[array['foo','bar'], array['baz', 'quux']];  lr := 'fool';  i := 1;  -- use sub-SELECTs to make expressions non-simple  arr[(SELECT i)][(SELECT i+1)] := (SELECT lr);  RETURN arr;  END;  $$ LANGUAGE plpgsql;
LOCATION:  exec_simple_query, postgres.c:938
NOTICE:  00000: test_event_trigger: ddl_command_start CREATE FUNCTION
LOCATION:  exec_stmt_raise, pl_exec.c:3216
STATEMENT:  CREATE FUNCTION nonsimple_expr_test() RETURNS text[] AS $$  DECLARE  arr text[];  lr text;  i integer;  BEGIN  arr := array[array['foo','bar'], array['baz', 'quux']];  lr := 'fool';  i := 1;  -- use sub-SELECTs to make expressions non-simple  arr[(SELECT i)][(SELECT i+1)] := (SELECT lr);  RETURN arr;  END;  $$ LANGUAGE plpgsql;
ERROR:  42601: syntax error at end of input at character 310
LOCATION:  plpgsql_yyerror, pl_scanner.c:623
STATEMENT:  CREATE FUNCTION nonsimple_expr_test() RETURNS text[] AS $$  DECLARE  arr text[];  lr text;  i integer;  BEGIN  arr := array[array['foo','bar'], array['baz', 'quux']];  lr := 'fool';  i := 1;  -- use sub-SELECTs to make expressions non-simple  arr[(SELECT i)][(SELECT i+1)] := (SELECT lr);  RETURN arr;  END;  $$ LANGUAGE plpgsql;
