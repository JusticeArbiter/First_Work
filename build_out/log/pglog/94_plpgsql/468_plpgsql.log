LOG:  00000: statement: create function for_vect() returns void as $proc$  <<lbl>>declare a integer; b varchar; c varchar; r record;  begin  -- fori  for i in 1 .. 3 loop  raise notice '%', i;  end loop;  -- fore with record var  for r in select gs as aa, 'BB' as bb, 'CC' as cc from generate_series(1,4) gs loop  raise notice '% % %', r.aa, r.bb, r.cc;  end loop;  -- fore with single scalar  for a in select gs from generate_series(1,4) gs loop  raise notice '%', a;  end loop;  -- fore with multiple scalars  for a,b,c in select gs, 'BB','CC' from generate_series(1,4) gs loop  raise notice '% % %', a, b, c;  end loop;  -- using qualified names in fors, fore is enabled, disabled only for fori  for lbl.a, lbl.b, lbl.c in execute $$select gs, 'bb','cc' from generate_series(1,4) gs$$ loop  raise notice '% % %', a, b, c;  end loop;  end;  $proc$ language plpgsql;
LOCATION:  exec_simple_query, postgres.c:938
NOTICE:  00000: test_event_trigger: ddl_command_start CREATE FUNCTION
LOCATION:  exec_stmt_raise, pl_exec.c:3216
STATEMENT:  create function for_vect() returns void as $proc$  <<lbl>>declare a integer; b varchar; c varchar; r record;  begin  -- fori  for i in 1 .. 3 loop  raise notice '%', i;  end loop;  -- fore with record var  for r in select gs as aa, 'BB' as bb, 'CC' as cc from generate_series(1,4) gs loop  raise notice '% % %', r.aa, r.bb, r.cc;  end loop;  -- fore with single scalar  for a in select gs from generate_series(1,4) gs loop  raise notice '%', a;  end loop;  -- fore with multiple scalars  for a,b,c in select gs, 'BB','CC' from generate_series(1,4) gs loop  raise notice '% % %', a, b, c;  end loop;  -- using qualified names in fors, fore is enabled, disabled only for fori  for lbl.a, lbl.b, lbl.c in execute $$select gs, 'bb','cc' from generate_series(1,4) gs$$ loop  raise notice '% % %', a, b, c;  end loop;  end;  $proc$ language plpgsql;
ERROR:  42601: syntax error at end of input at character 820
LOCATION:  plpgsql_yyerror, pl_scanner.c:623
STATEMENT:  create function for_vect() returns void as $proc$  <<lbl>>declare a integer; b varchar; c varchar; r record;  begin  -- fori  for i in 1 .. 3 loop  raise notice '%', i;  end loop;  -- fore with record var  for r in select gs as aa, 'BB' as bb, 'CC' as cc from generate_series(1,4) gs loop  raise notice '% % %', r.aa, r.bb, r.cc;  end loop;  -- fore with single scalar  for a in select gs from generate_series(1,4) gs loop  raise notice '%', a;  end loop;  -- fore with multiple scalars  for a,b,c in select gs, 'BB','CC' from generate_series(1,4) gs loop  raise notice '% % %', a, b, c;  end loop;  -- using qualified names in fors, fore is enabled, disabled only for fori  for lbl.a, lbl.b, lbl.c in execute $$select gs, 'bb','cc' from generate_series(1,4) gs$$ loop  raise notice '% % %', a, b, c;  end loop;  end;  $proc$ language plpgsql;
