LOG:  00000: statement: CREATE FUNCTION create_temp_tab() RETURNS text  LANGUAGE plpgsql AS $$  BEGIN  CREATE TEMP TABLE new_table (f1 float8);  -- case of interest is that we fail while holding an open  -- relcache reference to new_table  INSERT INTO new_table SELECT invert(0.0);  RETURN 'foo';  END $$;
LOCATION:  exec_simple_query, postgres.c:938
NOTICE:  00000: test_event_trigger: ddl_command_start CREATE FUNCTION
LOCATION:  exec_stmt_raise, pl_exec.c:3216
STATEMENT:  CREATE FUNCTION create_temp_tab() RETURNS text  LANGUAGE plpgsql AS $$  BEGIN  CREATE TEMP TABLE new_table (f1 float8);  -- case of interest is that we fail while holding an open  -- relcache reference to new_table  INSERT INTO new_table SELECT invert(0.0);  RETURN 'foo';  END $$;
ERROR:  42601: syntax error at end of input at character 279
LOCATION:  plpgsql_yyerror, pl_scanner.c:623
STATEMENT:  CREATE FUNCTION create_temp_tab() RETURNS text  LANGUAGE plpgsql AS $$  BEGIN  CREATE TEMP TABLE new_table (f1 float8);  -- case of interest is that we fail while holding an open  -- relcache reference to new_table  INSERT INTO new_table SELECT invert(0.0);  RETURN 'foo';  END $$;
