LOG:  00000: statement: CREATE OR REPLACE FUNCTION test_evtrig_dropped_objects() RETURNS event_trigger  LANGUAGE plpgsql AS $$  DECLARE  obj record;  BEGIN  FOR obj IN SELECT * FROM pg_event_trigger_dropped_objects()  LOOP  IF obj.object_type = 'table' THEN  EXECUTE format('DROP TABLE IF EXISTS audit_tbls.%I',  format('%s_%s', obj.schema_name, obj.object_name));  END IF;   INSERT INTO dropped_objects  (type, schema, object) VALUES  (obj.object_type, obj.schema_name, obj.object_identity);  END LOOP;  END  $$;
LOCATION:  exec_simple_query, postgres.c:938
NOTICE:  00000: test_event_trigger: ddl_command_start CREATE FUNCTION
LOCATION:  exec_stmt_raise, pl_exec.c:3216
STATEMENT:  CREATE OR REPLACE FUNCTION test_evtrig_dropped_objects() RETURNS event_trigger  LANGUAGE plpgsql AS $$  DECLARE  obj record;  BEGIN  FOR obj IN SELECT * FROM pg_event_trigger_dropped_objects()  LOOP  IF obj.object_type = 'table' THEN  EXECUTE format('DROP TABLE IF EXISTS audit_tbls.%I',  format('%s_%s', obj.schema_name, obj.object_name));  END IF;   INSERT INTO dropped_objects  (type, schema, object) VALUES  (obj.object_type, obj.schema_name, obj.object_identity);  END LOOP;  END  $$;
