LOG:  00000: statement: SELECT * FROM (  SELECT amname, opcname, array_agg(amprocnum ORDER BY amprocnum) as procnums  FROM pg_am am JOIN pg_opclass op ON opcmethod = am.oid  LEFT JOIN pg_amproc p ON amprocfamily = opcfamily AND  amproclefttype = amprocrighttype AND amproclefttype = opcintype  GROUP BY amname, opcname, amprocfamily  ) AS t  WHERE NOT (   amname = 'btree' AND procnums @> '{1}' OR  amname = 'hash' AND procnums = '{1}' OR  amname = 'gist' AND procnums @> '{1, 2, 3, 4, 5, 6, 7}' OR  amname = 'gin' AND (procnums @> '{1, 2, 3}' AND (procnums && '{4, 6}')) OR  amname = 'spgist' AND procnums = '{1, 2, 3, 4, 5}' OR  amname = 'brin' AND procnums @> '{1, 2, 3, 4}'  );
LOCATION:  exec_simple_query, postgres.c:938
ERROR:  42725: operator is not unique: smallint[] = unknown at character 405
HINT:  Could not choose a best candidate operator. You might need to add explicit type casts.
LOCATION:  op_error, parse_oper.c:718
STATEMENT:  SELECT * FROM (  SELECT amname, opcname, array_agg(amprocnum ORDER BY amprocnum) as procnums  FROM pg_am am JOIN pg_opclass op ON opcmethod = am.oid  LEFT JOIN pg_amproc p ON amprocfamily = opcfamily AND  amproclefttype = amprocrighttype AND amproclefttype = opcintype  GROUP BY amname, opcname, amprocfamily  ) AS t  WHERE NOT (   amname = 'btree' AND procnums @> '{1}' OR  amname = 'hash' AND procnums = '{1}' OR  amname = 'gist' AND procnums @> '{1, 2, 3, 4, 5, 6, 7}' OR  amname = 'gin' AND (procnums @> '{1, 2, 3}' AND (procnums && '{4, 6}')) OR  amname = 'spgist' AND procnums = '{1, 2, 3, 4, 5}' OR  amname = 'brin' AND procnums @> '{1, 2, 3, 4}'  );
